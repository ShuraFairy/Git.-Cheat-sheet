# Команды Git, которые должен знать каждый разработчик

Перед вами небольшая статья-шпаргалка,  которая включает в себя команды удобные, но не всем знакомые команды Git, 
которые могут стать вашими постоянными спутниками в разработке.

## help
```shell
git <command> --help  # Откроет информацию по запрашиваемой команде
git commit --help  # Пример
```

## git init
```shell
Эта команда используется для инициализации проекта как репозитория git.
git init <name>  # Создать репозиторий в текущей директории с именем <name>
```

## git clone
```shell
Эта команда клонирует репозиторий в новую директорию. 

git config — это удобная функция, которая используется для настройки значений конфигурации Git на глобальном и 
локальном уровнях проекта. Примеры команд:

git config --local user.name "Name"
git config --local user.email "your_email@example.com"
git config --global user.name "Name" 
git config --global user.email "your_email@example.com"

Если надо скопировать только файлы:
git clone --depth=1 git://someserver/somerepo dirformynewrepo
rm -rf !$/.git 
```

## git remote
```shell
git remote add

Пример: git remote add origin https://github.com/MrKrishnaAgarwal/Git-CheatSheet.git

Эта команда используется для добавления или подключения к удаленному репозиторию.

git remote set-url origin https://github.com/LpilinAlexandr/basic-git123.git  # Изменить в origin remote адрес
git remote add test https://github.com/LpilinAlexandr/basic-git123.git  # Установить новый remote адрес       
git remote -v  # Посмотреть список всех remote адресов
```

## git status
```shell
Эта команда используется для просмотра статуса файлов в вашем локальном репозитории. 
Отслеживаются ли файлы? Не отслеживается? Изменены ли они?

git status -s  # Статус в короткой форме
```

## git add \| restore \| rm
```shell
git add <path>  # Добавить в индекс всю директорию или файл по указанному пути
git add .  # Добавить всё в текущей директории

git restore --staged <path>  # Исключает из индекса добавленную директорию или файл по указанному пути
git restore <path>  # Отменить изменения в указанном месте 

git rm  # Фактически то же самое, что и удаление файла/директории

Пример: git add index.html

git add index.html style.css style.scss

Эта команда переносит все новые и измененные файлы в раздел проиндексированных файлов 
git add -A                                                                            
Эта команда используется для индексирования ВСЕХ неустановленных файлов.              
git add                                                                               
для конкретного файла
работает одинаково из любой директории, добавляет всю рабочую область
git add :/           
путь относительно корневой директории
git add :/path/to/files/
работает только в текущей директории
cd test
git add .
эквивалентно этому:
git add :/test          
путь относительно текущей директории
cd test
git add ./path
эквивалентно этому:
git add :/test/path
```

## git reset
```shell
Эта команда используется для мягкой или жёсткой отмены изменений, позволяет сбросить состояние проекта до нужного коммита. Например. 

отмена неотправленного коммита: git reset --hard HEAD^

отмена отправленного коммита ( возврат к состояние коммита 7880ae2 )

git reset --hard f7880ae2

git push origin -f
```

## git commit
```shell
Эта команда совершает коммит  — «закрепляет» промежуточные результаты.

git commit -m “Text message”

Пример: git commit -m "added navigation bar"

Команда -m позволяет указать commit message без обращения к редактору

git commit --amend

Команда --amend вносит в предыдущий коммит изменения, которые подготовлены к коммиту. 
Используется и для редактирования предыдущего commit message, если в нём допущены ошибки.

git commit -m 'Заголовок коммита' -m 'Текст под заголовком коммита'  # Сделать коммит с заголовком и доп. текстом

git commit <path> -m 'Заголовок'  # Закоммитить выбранный каталог

git commit --amend [-m] # Закоммитить изменения в предыдущий коммит
git commit --amend  --no-edit # Закоммитить изменения в предыдущий коммит без редактирования заголовка и описания

```

## git push 
```shell
git push -u origin

Ключ -u (полный вариант --set-upstream) создаёт в удалённом репозитории ветку, соответствующую локальной и связывает их.

git push

Пример: git push -u origin master

Эта команда используется для отправки закоммиченных файлов в удаленный репозиторий (также известный как GitHub) в указанной ветке. 
Используйте эту команду, когда вы впервые отправляете файлы в удаленный репозиторий. Он зафиксирует место, куда вы отправляете эти файлы. 
И в следующий раз можно будет использовать команду git push.

git push <remote> <branch>  # Отправить локальную ветку на remote 
git push -f <remote> <branch>  # Отправить принудительно локальную ветку на remote, перезаписав её 
git push -u <remote> <branch>  # Отправляем локальную ветку на remote и устанавливаем отслеживание
```

## git fetch
```shell
Эта команда используется для получения самой последней версии вашего локального репозитория. 
Загружает коммиты, файлы и ссылки из удаленного репозитория в ваш локальный репозиторий.

git fetch # Запросить все изменения из origin 
git fetch <remote> # Запросить все изменения из remote
git fetch <remote> --prune # Запросить все изменения из remote и синхронизировать их
```

## git pull 
```shell
Эта команда используется для извлечения только что полученной информации и ее загрузки в локальный репозиторий. 
git pull запускает немедленное обновление локального репозитория.

git pull origin <branch>  # Стянуть из remote актуальную ветку <branch> (По умолчанию режим merge)
git pull origin <branch> --rebase  # Стянуть из remote актуальную ветку в режиме rebase
```

## git branch 
```shell
Эта команда используется для создания, просмотра переименования и удаления ветки, на которой вы сейчас находитесь. 

git branch -a # Используется для предварительного просмотра всех веток в удаленном репозитории.
git branch -r # Используется для предварительного просмотра всех веток на сервере.
```

## git checkout \| switch
```shell
Пример: git checkout master или git checkout develop

Эта команда используется для переключения на ветки, которые вы уже посещали ранее.

git checkout — ещё один  вариант использования

git checkout <branch> | <commit>  # Переключиться на ветку или коммит по его хешу
git checkout -b <new_branch>  # Отбранчеваться от текущей ветки в новую ветку и сразу переключиться на нее со всеми изменениями

git switch <branch> | <commit> # Переключиться на ветку или коммит по его хешу
git switch -c <new_branch>  # Отбранчеваться от текущей ветки в новую ветку и сразу переключиться на нее со всеми изменениями
```

## git merge
```shell
Эта команда используется для объединения двух веток. Для этого укажите ветку, которую вы хотите унаследовать 
изменения. И имя ветки, которое вы будете использовать вместе с этой командой, — это ветка, которая предоставит изменения.

Пример: git merge develop

Здесь основная ветка наследует код из ветки разработки.

git merge — abort

Эта команда используется для отмены слияния.

Если нет ошибок, слияния будут успешными. Следовательно, это прерывание можно использовать только в ситуациях, 
когда слияние не удалось. Как понять, что нужно использовать эту команду? Ваш терминал скажет, что слияние не 
удалось. Он также может предложить вам исправить конфликты слияния.

Вот ещё один признак: ~/NextCloud/Documents/Web Projects/Cloud4Y (master)

Посмотрите в самый конец строки. В скобках написано (master). Это потому, что мы находимся в основной ветке. 
Если вы находитесь в ветке разработки, это будет означать (develop). Если смерджить не получилось, появится 
надпись (master|merging) или что-то в этом роде. 

git merge -X theirs

Пример: git merge -X theirs develop

Эта команда используется для объединения двух веток. И если есть конфликты слияния, эта команда просто 
предположит, что вы предпочитаете изменения, сделанные в указанной ветке (а не в текущей).

git merge <branch>  # Слить изменения из ветки <branch> в текущую ветку
git merge --continue  # Продолжить слияние в случае решения конфликтов
git merge --abort  # Отменить merge
```

## git reset
```shell
git reset --hard HEAD

Эта команда удалит все изменения, внесенные вами в ваш локальный репозиторий, и обновит его до последней 
версии, которая была закоммичена на GitHub.

git reset HEAD^

Эта команда перемещает текущую ветку назад на два коммита, эффективно удаляя два снапшота, которые мы 
только что создали, из истории проекта. Он отменяет случайное закоммичивание и сохраняет изменения.

git reset <commit>  # Сбросить коммиты в индекс до указанного коммита
--soft  # Изменения сбрасываются в индекс (Дефолтное значение)
--hard  # Изменения удаляются
git reset --soft HEAD~  # Сбросить последний коммит в индекс
git reset --hard HEAD~4  # Убить последние 4 коммита

# squash life-hack
git reset --soft HEAD~3  # Сбрасываем 3 последних коммита в 1
git commit -m 'Обьединили 3 коммита'  # Коммитим заново, тем самым объединяя 3 коммита в 1
```

## git clean -f
```shell
Эта команда используется для удаления неотслеживаемых файлов из  вашего локального репозитория.

git clean -d

Эта команда используется для удаления неотслеживаемых директорий в вашем локальном репозитории. 
Вы также можете объединить его с git clean -fd, чтобы сделать и то, и другое.
```

## git rm -r — cached
```shell
Пример: git rm -r --cached config.js

Эта команда используется для удаления файла из удаленного репозитория (GitHub), не удаляя его в локальном репозитории.
```

## git bisect
```shell
Эта команда используется для обнаружения коммита, вызвавшего ошибку в коде. Так проще отследить коммит, 
где код работает и выявить проблемный коммит.
```

## git diff
```shell
git diff — частое использование 

Эта команда используется сравнения изменений.
```

## git rebase
```shell
Полезно, если вы работали с веткой, но затем вам нужно объединить изменения, сделанные в этой ветке, с другой. 
С помощью git rebase вы можете «переместить» свою ветку поверх последней версии. Это также полезно, если команда 
следует общепринятым соглашениям о коммитах, таким как объединение коммитов вместе или разделение «больших» 
коммитов на «меньшие». Это используется в основном для «реорганизации» ваших коммитов.

git rebase -i HEAD~N

Склеить коммиты, переписав историю с момента HEAD~N, т.е. с того, что было N коммитов назад. -i — означает в интерактивном режиме.

git rebase <commit>  # Встать коммитами текущей ветки на выбранный коммит 
git rebase <branch>  # Встать коммитами текущей ветки на выбранную ветку
git rebase --continue  # Продолжить слияние в случае решения конфликтов
git rebase --abort  # Отменить rebase
```

## git stash
```shell
Эта команда используется для сохранения неподтверждённых изменений в отдельном хранилище, чтобы можно было вернуться 
к ним позже. Сами  файлы возвращаются к исходному состоянию. Команда полезна, когда вы работаете над одной веткой, 
хотите переключиться на другую, но вы ещё не готовы сделать коммит в текущей ветке. Таким образом, вы прячете изменения 
в коде, переключаетесь на другую ветку, возвращаетесь к исходной ветке, а затем разархивируете свои изменения.

git stash pop # позволяет применить ранее отложенные изменения.  
git stash -m 'my stash name'  # Спрячет все изменения в стеш     
git stash pop  # Достанет последние изменения из стеша, удалив его оттуда. По дефолту 0
git stash apply  # Достанет последние изменения из стеша, сохранив его. По дефолту 0   
git stash list  # Посмотреть список всех стешей                                        
git stash show <stash>  # Посмотреть стеш. По дефолту 0                                
git stash drop <stash>  # Удалить стеш. По дефолту 0
```

## git log
```shell
git log  # Посмотреть логи по порядку
git log <branch-name>  # Посмотреть логи по конкретной ветке
git log --grep <pattern>  # Поиск коммитов с подходящей подстрокой
git log --invert-grep <pattern>  # Поиск коммитов, не входящих в подстроку
git log --oneline  # Список логов, каждый в одной строке
```

## git revert
```shell
git revert <commit>  # Отменить коммит
git revert -n <commit>  # Отменить коммит и оставить изменения в индексе
```

## git reflog
```shell
git reflog  # Показать историю
git reflog <branch> # Показать историю по конкретной ветке
```
